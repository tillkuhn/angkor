= Module to manage Confluent Cloud Resources


== Choose your cluster type

One Basic Cluster is OK to start with, features (see also  https://docs.confluent.io/cloud/current/clusters/cluster-types.html[Kafka Cluster Types in Confluent Cloud])

* Partitions  First 10 free
* SLA  99.5%
* Connector tasks  1 task per connector
* Audit logs  No event types
* Storage 5 TB
* Access Limited roles

== Test Credentials

----
  curl \
  -X POST \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic base64(<apikey>:<apisecret>)" \
  https://<host>.eu-central-1.aws.confluent.cloud:443/kafka/v3/clusters/<cluster-id>/topics/public.hello/records \
  -d '{"value":{"type":"JSON","data":"Hello World!"}}'
----

----
{"error_code":200,"cluster_id":"lkc-6orpo2","topic_name":"public.hello","partition_id":0,"offset":0,"timestamp":"2025-11-10T12:10:06.284Z","value":{"type":"JSON","size":14}}
----

== Confluent Cloud integration for Grafana Cloud

Docs

* See https://grafana.com/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-confluent-cloud/[Confluent Cloud integration for Grafana Cloud]
* https://docs.confluent.io/cloud/current/monitoring/metrics-api.html#metrics-quick-start[Confluent Docs: Create an API key to authenticate to the Metrics API]
* https://grafana.com/blog/introducing-the-new-confluent-cloud-integration-for-grafana-cloud/[Grafana: Introducing the new Confluent Cloud integration for Grafana Cloud]

Steps

1. Service Account: ${env_id}-grafana-monitoring for metrics access
2. Role Binding: Granted MetricsReader role at the environment level
3. API Key: Dedicated API key for the monitoring service account
4. Output: Structured output with service account and API key details (marked as sensitive)

== Examples on Role Bindings / CRN Patterns

* https://registry.terraform.io/providers/confluentinc/confluent/latest/docs/resources/confluent_role_binding[resources/confluent_role_binding]
* https://docs.confluent.io/cloud/current/api.html#section/Identifiers-and-URLs/Confluent-Resource-Names-(CRNs)[Confluent-Resource-Names-(CRNs)]
