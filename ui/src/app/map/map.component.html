<div>

  <ng-container *ngFor="let entry of mapstyles; let idx = index">
    <input type="radio" name="radiogroup" (change)="onMapboxStyleChange(entry)" [checked]="(idx === 0)" [value]="entry.id"> {{ entry.description }}&nbsp;
  </ng-container>

  <mgl-map [style]="mapstyle" [zoom]="zoom" [center]="coordinates" [accessToken]="accessToken">

    <mgl-geojson-source id="poi-source" [data]="points"></mgl-geojson-source>

    <mgl-layer id="poi-layer" source="poi-source" type="symbol"
      [layout]="{'icon-image': '{icon}-15','icon-allow-overlap': true}"
      (click)="onClick($event)" (mouseEnter)="cursorStyle = 'pointer'" (mouseLeave)="cursorStyle = ''">
    </mgl-layer>

    <!-- Display POI SUmmary when user clicks icon -->
    <mgl-popup *ngIf="selectedPOI"  [feature]="selectedPOI">
      <app-area-display [areaCode]="selectedPOI.properties?.areaCode" size="medium"></app-area-display>
      &nbsp;<b>{{selectedPOI.properties?.name}}</b><br />
      <div *ngIf="selectedPOI.properties?.imageUrl">
       <img alt="image" [src]="selectedPOI.properties?.imageUrl" />
      </div>
      <a [routerLink]="['/place-details/', selectedPOI.properties?.id]">Open Place</a>
    </mgl-popup>

    <mgl-control mglNavigation></mgl-control>

  </mgl-map>

</div>
