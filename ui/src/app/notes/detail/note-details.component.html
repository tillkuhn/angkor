<!-- Tutorial: https://blog.angular-university.io/angular-material-dialog/ -->
<h3 mat-dialog-title>
  <mat-icon>sticky_note_2</mat-icon>
  Note Details
</h3>

<div mat-dialog-content>
  <mat-form-field  class="app-full-width">
    <mat-label>Note Summary</mat-label>
    <!-- (blur)="parseLinks($event)" -->
    <textarea #autosize="cdkTextareaAutosize" cdkAutosizeMaxRows="5"
              cdkAutosizeMinRows="1"  cdkTextareaAutosize
              matInput [(ngModel)]="data.summary"
              placeholder="Note Summary"></textarea>
  </mat-form-field>

  <!-- Due Date -->
  <mat-form-field>
    <!--<mat-label>Choose a date</mat-label>-->
    <input [matDatepicker]="picker" [(ngModel)]="data.dueDate" matInput placeholder="Due Date">
    <mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>&nbsp;
  <a *ngIf="data.primaryUrl" [href]="data.primaryUrl" target="_blank" title="Open {{data.primaryUrl}}">Open Link</a>
  <!-- debug values (temporary) -->
  <br />
  <input type="checkbox" (change)="isDebug =! isDebug" [checked] = false > Show all fields
  <pre *ngIf="isDebug">{{data|json}}</pre>


</div>
<div class="app-button-row">
  <!--
  <button [mat-dialog-close]="data" cdkFocusInitial color="primary" mat-raised-button >Submit</button>
  <button (click)="onNoClick()" mat-raised-button>No Thanks</button> color="primary"
  -->
  <button color="primary" (click)="saveItem()" *ngIf="authService.canEdit" mat-flat-button type="button">
    <mat-icon>save</mat-icon>Save
  </button>&nbsp;
  <button  color="primary" (click)="closeItem()" mat-flat-button type="button">
    <mat-icon>close</mat-icon>Close
  </button>&nbsp;
  <button  color="warn" (click)="deleteItem()" *ngIf="authService.canDelete" mat-flat-button type="button">
    <mat-icon>delete_forever</mat-icon>Trash
  </button>

</div>
